services:
  streamlit:
    build: .
    ports:
      - "40430:8501"
    environment:
      - OPENCV_IO_ENABLE_OPENEXR=1
    volumes:
      - ./character_sheet:/home/ubuntu/deploy-projects/13d95f39bf654777adfa95c5/character_sheet
      - ./results:/home/ubuntu/deploy-projects/13d95f39bf654777adfa95c5/results
      - ./poses:/home/ubuntu/deploy-projects/13d95f39bf654777adfa95c5/poses
      - ./weights:/home/ubuntu/deploy-projects/13d95f39bf654777adfa95c5/weights
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 4G
        reservations:
          cpus: '1.0'
          memory: 1G
    restart: unless-stopped